<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles.css">
    <title>Тематические разделы</title>
</head>
<body>
    <div class="learn-page__layout checklist" style="padding-bottom: 50px;">
        <h1><a href="../index.html" style="color: aliceblue;">Back to main page</a></h1>
        <section class="learn-page__layout--study-block">
            <h3>Обозначения (субъективно):</h3>
            <div><span class="blue">Синий</span>: актуально, не очевидно, secret knowledge</div>
            <div><span class="green">Зеленый</span>: актуально, стоит изучать внимательно</div>
            <div><span style="color: red">Красный</span>: допустимо, в 99% случаев не используется</div>
            <div><span class="violet">Фиолетовый</span>: актуально, расширенный полезный материал</div>
            <div style="margin-bottom: 6px;"><span class="orange">Оранжевый</span>: пока не понятно, в процессе изучения материала</div>
            <div>
                <span><button id="show_reds">Показать "красные" пункты</button></span>
                <span><button id="hide_reds">Скрыть "красные" пункты</button></span>
                <span><button id="hide_for_what">Скрыть разделы "Зачем?"</button></span>
                <span><button id="hide_practise">Скрыть разделы "Практика"</button></span>
            </div>
        </section>
        <section class="learn-page__layout--study-block">
            <div class="text" style="background-color: white;">
                <b>1) Фреймы и окна</b><hr>
                <div>
                    <input type="checkbox" name="1_1" id="1_1">
                    <label for="1_1">1.1 Открытие окон и методы window</label>
                    <p class="for-what">Зачем? Открыть новое окно, именно окно браузера, на вкладку как с href, норм для входа через Google, Facebook итд.</p>
                    <ul>
                        <li class="green">window.open('url'): открывает окно из url в новой вкладке, может быть вызвано только внутри onclick или setTimeout с 1 секундой</li>
                        <li class="blue">Синтаксис window.open: window.open(url, name, params), где name это имя окна, а params это строка с например width/height окна</li>
                        <li class="green">window.opener: это то окно, которое открыло "попап", т.е. из которого было открыто новое окно, его можно менять как нам хочется</li>
                        <li class="green">Закрытие попапа: чтобы закрыть окно нужно вызвать window.close() или для переменной которая присвоена open() задать .close()</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_2" id="1_2">
                    <label for="1_2">1.2 Общение между окнами</label>
                    <p class="for-what">Зачем? Тут речь о том, если окна имеют одинаковый "источник" (протокол, домен, порт), то они могут делать друг с другом что угодно.</p>
                    <ul>
                        <li class="green">Одинаковый "источник": http://site.com, http://site.com/, http://site.com/my/page.html</li>
                        <li class="green">Разный "источник": http://www.site.com, http://site.org, https://site.com (протокол), http://site.com:8080 (порт)</li>
                        <li class="blue">iframe: внутри iframe находится отдельное окно со своими document и window, обратиться к ним можно через ссылки для этих объектов</li>
                        <li class="green">Ссылки на document и window у iframe: iframe.contentWindow для window, iframe.contentWindow.document для document</li>
                        <li class="blue">Когда iframe создан, в нём сразу есть document, но это не тот документ что нам нужен, его нужно подождать через setInterval 100</li>
                        <li class="green">iframe sandbox: можем наложить ограничения на обмен данными в iframe (allow-same-origin, allow-forms, allow-scripts)</li>
                    </ul>
                </div>
                <div>
                    <p class="helpful" style="padding: 10px;">
                        <span>Практика: </span><a href="https://jsfiddle.net/gzhel/zpgkfvLm/143/" target="_blank">DOM, BOM, высота, скроллы</a>
                    </p>
                </div>
            </div>
        </section>
        <section class="learn-page__layout--study-block">
            <div class="text" style="background-color: white;">
                <b>2) Бинарные данные и файлы</b><hr>
                <div>
                    <input type="checkbox" name="2_1" id="2_1">
                    <label for="2_1">2.1 Blob</label>
                    <p class="for-what">Зачем? Blob удобен для выгрузки данных с бекенда и для скачивания данных из фронтенда.</p>
                    <ul>
                        <li class="blue">Конструктор new Blob(blobParts, options): blobParts это массив в котором то, что качать, options не обязательный объект с типом</li>
                        <li class="violet">Записывать в файлы системы мы через JavaScript не можем, но мы можем качать файлы, делается это через либу file-saver</li>
                    </ul>
                </div>
                <div class="red hidden">
                    <input type="checkbox" name="2_2" id="2_2">
                    <label for="2_2">2.2 File и FileReader</label>
                    <p class="for-what">Зачем? Считывание данных из файла, практическое применение хз.</p>
                    <ul>
                        <li class="green">Практическое применение не ясно, но FileReader позволяет читать данные из разных форматов файлов, хз зачем</li>
                    </ul>
                </div>
                <div>
                    <p class="helpful" style="padding: 10px;">
                        <span>Практика: </span><a href="https://jsfiddle.net/gzhel/yx5nm9fo/33/" target="_blank">FileReader</a>
                    </p>
                </div>
            </div>
        </section>
    </div>
    <script>
        const showReds = document.querySelector("#show_reds");
        const hideReds = document.querySelector("#hide_reds");
        const reds = document.querySelectorAll('.hidden');
        showReds.addEventListener('click', () => reds.forEach(red => red.tagName === "LI"? red.style.display = 'list-item' : red.style.display = 'block'));
        hideReds.addEventListener('click', () => reds.forEach(red => red.style.display = 'none'));

        const hideForWhat = document.querySelector("#hide_for_what");
        const forWhat = document.querySelectorAll(".for-what");
        hideForWhat.addEventListener('click', () => forWhat.forEach(el => el.style.display = 'none'));

        const hidePractise = document.querySelector("#hide_practise");
        const practise = document.querySelectorAll(".helpful");
        hidePractise.addEventListener('click', () => practise.forEach(el => el.style.display = 'none'));
    </script>
</body>
</html>