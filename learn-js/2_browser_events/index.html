<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles.css">
    <title>Кратко про Браузер, document, events</title>
</head>
<body>
    <div class="learn-page__layout checklist" style="padding-bottom: 50px;">
        <h1><a href="../index.html" style="color: aliceblue;">Back to main page</a></h1>
        <section class="learn-page__layout--study-block">
            <h3>Обозначения (субъективно):</h3>
            <div><span class="blue">Синий</span>: актуально, не очевидно, secret knowledge</div>
            <div><span class="green">Зеленый</span>: актуально, стоит изучать внимательно</div>
            <div><span style="color: red">Красный</span>: допустимо, в 99% случаев не используется</div>
            <div><span class="violet">Фиолетовый</span>: актуально, расширенный полезный материал</div>
            <div style="margin-bottom: 6px;"><span class="orange">Оранжевый</span>: пока не понятно, в процессе изучения материала</div>
            <div>
                <span><button id="show_reds">Показать "красные" пункты</button></span>
                <span><button id="hide_reds">Скрыть "красные" пункты</button></span>
                <span><button id="hide_for_what">Скрыть разделы "Зачем?"</button></span>
                <span><button id="hide_practise">Скрыть разделы "Практика"</button></span>
            </div>
        </section>
        <section class="learn-page__layout--study-block">
            <div class="text" style="background-color: white;">
                <b>1) Документ</b><hr>
                <div>
                    <input type="checkbox" name="1_1" id="1_1">
                    <label for="1_1">1.1 Браузерное окружение, спецификации</label>
                    <p class="for-what">Зачем? Важное знание для того, чтобы понимать, как в целом происходят взаимодействия на любой странице браузера.</p>
                    <ul>
                        <li class="green">Окружение: раньше JS был только в браузере, сейчас он много где и это "где" называют "окружением" ("браузерное окружение")</li>
                        <li class="blue">window: это глобальный объект JS, и одновременно окно браузера и сущность содержащая методы управления окном браузера</li>
                        <li class="green">widow содержит 3 дочерних сущности: DOM (Document Object Model), BOM (Browset Object Model), JavaScript</li>
                        <li class="green">DOM (Document Object Model): это объект HTML файла страницы, который имеет методы работы с HTML этой страницы</li>
                        <li class="green">BOM (Browset Object Model): это объекты для работы со всем кроме документа (location, navigator, history, screen, frames)</li>
                        <li class="blue">Объекты BOM: location (о URL), navigator (о браузере), history (история переходов), screen (размеры экрана), frames (iframes)</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_2" id="1_2">
                    <label for="1_2">1.2 DOM-дерево</label>
                    <p class="for-what">Зачем? Взаимодействие с html элементами через JavaScript, несмотря на фреймворки, бывает нужным.</p>
                    <ul>
                        <li class="blue">Каждый HTML-тег это имеет объект обёртку в DOM, меняем обёртку - меняется HTML-тег. Пример: document.body.style.color = "red"</li>
                        <li class="blue">DOM это древо HTML-тегов страницы, элементы называются узлами (nodes), текст называется текстовыми узламми (text nodes)</li>
                        <li class="green">DOM обладает автоисправлением: если мы напишем теги как-то неправильно, не закроем итд, оно исправит чтобы не было ошибки</li>
                        <li class="blue">Основные типы DOM-узлов: document, узлы-элементы (HTML-теги), текстовые узлы (текст), узлы-комментарии (комментарии)</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_3" id="1_3">
                    <label for="1_3">1.3 Навигация по DOM-элементам</label>
                    <p class="for-what">Зачем? Большинство пунктов используется редко, но иногда бывает очень полезно, например children в React.</p>
                    <ul>
                        <li class="green">Все операции с DOM из нашего JavaScript начинаются с объекта document. Пример: document.body.parentNode</li>
                        <li class="blue">Дети: childNodes (список дочерних элементов), firstChild/lastChild (первый/последний дочерний элемент) </li>
                        <li class="green">DOM-коллекции: массивы элементов DOM это коллекции и им доступен for..of. Пример: for (let $el of childNodes) {alert($el)}</li>
                        <li class="blue">Соседи и родитель: соседи имеют общего родителя (nextSibling, previousSibling), родитель доступен через parentNode</li>
                        <li class="blue">Ссылки на только узлы-элементы: children (коллекция детей), parentElement (родитель-элемент), first/lastElementChild</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_4" id="1_4">
                    <label for="1_4">1.4 Поиск: querySelector*</label>
                    <p class="for-what">Зачем? Испоьзуется постоянно в чистом JS, например чтобы получить элемент кнопки и добавить на него слушателя.</p>
                    <ul>
                        <li class="green">elem.querySelector/querySelecorAll("css-rule"): возвращает первый/все элементы, соотв. css-rule (с # для id, . для class) </li>
                        <li class="blue">elem.closest("css-rule"): возвращает ближайшего предка, который подходит под css-rule</li>
                        <li class="blue">elem1.contains(elem2): возвращает true если elem1 содержит внутри себя elem2 или если elem1 === elem2</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_5" id="1_5">
                    <label for="1_5">1.5 Свойства узлов: тип, тег и содержимое</label>
                    <p class="for-what">Зачем? Для более подробного понимания того, что происходит в браузере, как реагирует браузер на написанный код.</p>
                    <ul>
                        <li class="green">DOM-узлы принадлежат соответствующим встроенным классам: EventTarget(events)/Node(узлы)/Element(методы)/HTMLElement</li>
                        <li class="blue">EventTarget: это корневой класс, его объекты никогда не создаются, но он нужен для поддержи событий в браузере</li>
                        <li class="green">elem.innerHTML: возвращает HTML-содержимое элемента, ему можно присваивать значение, строкой. el.innerHTML = "NEW"</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_6" id="1_6">
                    <label for="1_6">1.6 Атрибуты и свойства</label>
                    <p class="for-what">Зачем? Не уверен, что это применимо на практике, просто чтобы понимать разницу между HTML-атрибутами и DOM-свойствами.</p>
                    <ul>
                        <li class="green">HTML-атрибуты: это атрибуты внутри тегов HTML, когда браузер парсит HTML, он создаёт DOM-свойства для этих атрибутов</li>
                        <li class="green">DOM-свойства: у DOM элементов (например input) есть поля (например title), мы можем их задать: $el = {title: "Gregory"}</li>
                        <li class="blue">Нестандартные атрибуты, dataset: нужные для стилизации или идентификации. Синтаксис: div data-about="About">>div</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_7" id="1_7">
                    <label for="1_7">1.7 Изменение документа</label>
                    <p class="for-what">Зачем? Очень распространённый механизм, который сейчас инкапсулирован в фреймворки, для понимания того как оно работает.</p>
                    <ul>
                        <li class="green">Создание элемента: document.createElement(tag // с заданным тегом), document.createTextNode(text // с заданым текстом)</li>
                        <li class="green">Вставка элемента: document.el1.append/prepend(el2), вставляющий el2 в el1 в конец/начало родительского узла</li>
                        <li class="green">el.insertAdjacentHTML(where, html): where принимает строковые значения (гугл), html это html который мы хотим вставить</li>
                        <li class="green">Удаление элемета: el.remove() просто удаляет элемент, всё</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_8" id="1_8">
                    <label for="1_8">1.8 Стили и классы</label>
                    <p class="for-what">Зачем? Редкие случаи, когда по какому-то логическому условию нужно добавить или изменить стили у элемента.</p>
                    <ul>
                        <li class="green">Задание стилей через style: можно добавить стили через stye. Пример: let left = ...; elem.style.left = left;</li>
                        <li class="blue">className: раньше слово "class" имело ограничение и его поле назвали className. Пример: el.className;</li>
                        <li class="green">classList: возвращаем массив классов элемента, его длину и класс родителя. Синтаксис: el.classList;</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_9" id="1_9">
                    <label for="1_9">1.9 Размеры и прокрутка элементов</label>
                    <p class="for-what">Зачем? ...</p>
                    <ul>
                        <li class="orange">???</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_10" id="1_10">
                    <label for="1_10">1.10 Размеры и прокрутка окна</label>
                    <p class="for-what">Зачем? ...</p>
                    <ul>
                        <li class="orange">???</li>
                    </ul>
                </div>
                <div>
                    <input type="checkbox" name="1_11" id="1_11">
                    <label for="1_11">1.11 Координаты</label>
                    <p class="for-what">Зачем? ...</p>
                    <ul>
                        <li class="orange">???</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
    <script>
        const showReds = document.querySelector("#show_reds");
        const hideReds = document.querySelector("#hide_reds");
        const reds = document.querySelectorAll('.hidden');
        showReds.addEventListener('click', () => reds.forEach(red => red.tagName === "LI"? red.style.display = 'list-item' : red.style.display = 'block'));
        hideReds.addEventListener('click', () => reds.forEach(red => red.style.display = 'none'));

        const hideForWhat = document.querySelector("#hide_for_what");
        const forWhat = document.querySelectorAll(".for-what");
        hideForWhat.addEventListener('click', () => forWhat.forEach(el => el.style.display = 'none'));

        const hidePractise = document.querySelector("#hide_practise");
        const practise = document.querySelectorAll(".helpful");
        hidePractise.addEventListener('click', () => practise.forEach(el => el.style.display = 'none'));
    </script>
</body>
</html>